# goit-js-hw-09

fs60-js-module09-homework

## Task #1 / перемикач кольорів

Виконуй це завдання у файлах `01-color-switcher.html` і `01-color-switcher.js`.

HTML містить кнопки «Start» і «Stop». Напиши скрипт, який після натискання
кнопки «Start», раз на секунду змінює колір фону `<body>` на випадкове значення,
використовуючи інлайн стиль. Натисканням на кнопку `«Stop»` зміна кольору фону
повинна зупинятися. Враховуй, що на кнопку «Start» можна натиснути нескінченну
кількість разів. Зроби так, щоб доки зміна теми запущена, кнопка «Start» була
неактивною (disabled). Для генерування випадкового кольору використовуй функцію
`getRandomHexColor`.

## Task #2 / таймер зворотного відліку

Виконуй це завдання у файлах `02-timer.html` і `02-timer.js`. Напиши скрипт
таймера, який здійснює зворотний відлік до певної дати. Такий таймер може
використовуватися у блогах та інтернет-магазинах, сторінках реєстрації подій,
під час технічного обслуговування тощо.

HTML містить готову розмітку таймера, поля вибору кінцевої дати і кнопку, по
кліку на яку, таймер повинен запускатися. Додай мінімальне оформлення елементів
інтерфейсу.

1. Використовуй бібліотеку `flatpickr` для того, щоб дозволити користувачеві
   кросбраузерно вибрати кінцеву дату і час в одному елементі інтерфейсу. Для
   того щоб підключити CSS код бібліотеки в проект, необхідно додати ще один
   імпорт, крім того, що описаний в документації. Бібліотека очікує, що її
   ініціалізують на елементі `input[type="text"]`, тому ми додали до HTML
   документу поле `input#datetime-picker`. Другим аргументом функції
   `flatpickr(selector, options)` можна передати необов'язковий об'єкт
   параметрів. Ми підготували для тебе об'єкт, який потрібен для виконання
   завдання. Розберися, за що відповідає кожна властивість в документації
   «Options», і використовуй його у своєму коді.

2. Метод `onClose()` з об'єкта параметрів викликається щоразу під час закриття
   елемента інтерфейсу, який створює `flatpickr`. Саме у ньому варто обробляти
   дату, обрану користувачем. Параметр `selectedDates` - це масив обраних дат,
   тому ми беремо перший елемент. Якщо користувач вибрав дату в минулому, покажи
   `window.alert()` з текстом `"Please choose a date in the future"`. Якщо
   користувач вибрав валідну дату (в майбутньому), кнопка «Start» стає активною.
   Кнопка «Start» повинна бути неактивною доти, доки користувач не вибрав дату в
   майбутньому. Натисканням на кнопку «Start» починається відлік часу до обраної
   дати з моменту натискання.

3. Натисканням на кнопку «Start» скрипт повинен обчислювати раз на секунду,
   скільки часу залишилось до вказаної дати, і оновлювати інтерфейс таймера,
   показуючи чотири цифри: дні, години, хвилини і секунди у форматі
   `xx:xx:xx:xx`. Кількість днів може складатися з більше, ніж двох цифр. Таймер
   повинен зупинятися, коли дійшов до кінцевої дати, тобто `00:00:00:00`. Для
   підрахунку значень використовуй готову функцію `convertMs`, де `ms` - різниця
   між кінцевою і поточною датою в мілісекундах.

4. Функція `convertMs()` повертає об'єкт з розрахованим часом, що залишився до
   кінцевої дати. Зверни увагу, що вона не форматує результат. Тобто, якщо
   залишилося 4 хвилини або будь-якої іншої складової часу, то функція поверне
   4, а не 04. В інтерфейсі таймера необхідно додавати 0, якщо в числі менше
   двох символів. Напиши функцію addLeadingZero(value), яка використовує метод
   `padStart()` і перед рендерингом інтефрейсу форматує значення.

## Task #3 / генератор промісів

Виконуй це завдання у файлах `03-promises.html` і `03-promises.js`.

HTML містить розмітку форми, в поля якої користувач буде вводити першу затримку
в мілісекундах, крок збільшення затримки для кожного промісу після першого і
кількість промісів, яку необхідно створити.

Напиши скрипт, який на момент сабміту форми викликає функцію
`createPromise(position, delay)` стільки разів, скільки ввели в поле `amount`.
Під час кожного виклику передай їй номер промісу `(position)`, що створюється, і
затримку, враховуючи першу затримку `(delay)`, введену користувачем, і крок
`(step)`.

Доповни код функції `createPromise` таким чином, щоб вона повертала один проміс,
який виконується або відхиляється через `delay` часу. Значенням промісу повинен
бути об'єкт, в якому будуть властивості `position` і `delay` зі значеннями
однойменних параметрів. Використовуй початковий код функції для вибору того, що
потрібно зробити з промісом - виконати або відхилити.

## ====================================

# Parcel template

Этот проект был создан при помощи Parcel. Для знакомства и настройки
дополнительных возможностей [обратись к документации](https://parceljs.org/).

## Подготовка нового проекта

1. Убедись что на компьютере установлена LTS-версия Node.js.
   [Скачай и установи](https://nodejs.org/en/) её если необходимо.
2. Склонируй этот репозиторий.
3. Измени имя папки с `parcel-project-template` на имя своего проекта.
4. Создай новый пустой репозиторий на GitHub.
5. Открой проект в VSCode, запусти терминал и свяжи проект с GitHub-репозиторием
   [по инструкции](https://docs.github.com/en/get-started/getting-started-with-git/managing-remote-repositories#changing-a-remote-repositorys-url).
6. Установи зависимости проекта в терминале командой `npm install` .
7. Запусти режим разработки, выполнив команду `npm start`.
8. Перейди в браузере по адресу [http://localhost:1234](http://localhost:1234).
   Эта страница будет автоматически перезагружаться после сохранения изменений в
   файлах проекта.

## Файлы и папки

- Все паршалы файлов стилей должны лежать в папке `src/sass` и импортироваться в
  файлы стилей страниц. Например, для `index.html` файл стилей называется
  `index.scss`.
- Изображения добавляй в папку `src/images`. Сборщик оптимизирует их, но только
  при деплое продакшн версии проекта. Все это происходит в облаке, чтобы не
  нагружать твой компьютер, так как на слабых машинах это может занять много
  времени.

## Деплой

Для настройки деплоя проекта необходимо выполнить несколько дополнительных шагов
по настройке твоего репозитория. Зайди во вкладку `Settings` и в подсекции
`Actions` выбери выбери пункт `General`.

![GitHub actions settings](./assets/actions-config-step-1.png)

Пролистай страницу до последней секции, в которой убедись что выбраны опции как
на следующем изображении и нажми `Save`. Без этих настроек у сборки будет
недостаточно прав для автоматизации процесса деплоя.

![GitHub actions settings](./assets/actions-config-step-2.png)

Продакшн версия проекта будет автоматически собираться и деплоиться на GitHub
Pages, в ветку `gh-pages`, каждый раз когда обновляется ветка `main`. Например,
после прямого пуша или принятого пул-реквеста. Для этого необходимо в файле
`package.json` отредактировать поле `homepage` и скрипт `build`, заменив
`your_username` и `your_repo_name` на свои, и отправить изменения на GitHub.

```json
"homepage": "https://your_username.github.io/your_repo_name/",
"scripts": {
  "build": "parcel build src/*.html --public-url /your_repo_name/"
},
```

Далее необходимо зайти в настройки GitHub-репозитория (`Settings` > `Pages`) и
выставить раздачу продакшн версии файлов из папки `/root` ветки `gh-pages`, если
это небыло сделано автоматически.

![GitHub Pages settings](./assets/repo-settings.png)

### Статус деплоя

Статус деплоя крайнего коммита отображается иконкой возле его идентификатора.

- **Желтый цвет** - выполняется сборка и деплой проекта.
- **Зеленый цвет** - деплой завершился успешно.
- **Красный цвет** - во время линтинга, сборки или деплоя произошла ошибка.

Более детальную информацию о статусе можно посмотреть кликнув по иконке, и в
выпадающем окне перейти по ссылке `Details`.

![Deployment status](./assets/status.png)

### Живая страница

Через какое-то время, обычно пару минут, живую страницу можно будет посмотреть
по адресу указанному в отредактированном свойстве `homepage`. Например, вот
ссылка на живую версию для этого репозитория
[https://goitacademy.github.io/parcel-project-template](https://goitacademy.github.io/parcel-project-template).

Если открывается пустая страница, убедись что во вкладке `Console` нет ошибок
связанных с неправильными путями к CSS и JS файлам проекта (**404**). Скорее
всего у тебя неправильное значение свойства `homepage` или скрипта `build` в
файле `package.json`.

## Как это работает

![How it works](./assets/how-it-works.png)

1. После каждого пуша в ветку `main` GitHub-репозитория, запускается специальный
   скрипт (GitHub Action) из файла `.github/workflows/deploy.yml`.
2. Все файлы репозитория копируются на сервер, где проект инициализируется и
   проходит сборку перед деплоем.
3. Если все шаги прошли успешно, собранная продакшн версия файлов проекта
   отправляется в ветку `gh-pages`. В противном случае, в логе выполнения
   скрипта будет указано в чем проблема.
